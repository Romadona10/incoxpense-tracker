"use strict";(self.webpackChunkFintracker=self.webpackChunkFintracker||[]).push([[113],{2113:(A,E,s)=>{s.r(E),s.d(E,{CategoriesModule:()=>Y});var p=s(177),m=s(8498),t=s(7705),y=s(5596),h=s(6850);let k=(()=>{class e{constructor(o){this.router=o}ngOnInit(){this.router.navigate(["/categories/categories-lists"])}onTabChange(o){switch(o){case 0:this.router.navigate(["categories/categories-lists"]);break;case 1:this.router.navigate(["categories/add-category"]);break;case 2:this.router.navigate(["categories/edit-category"])}}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-categories"]],decls:8,vars:0,consts:[[3,"selectedIndexChange"],["label","Categories-Lists"],["label","Add"],["label","Edit"]],template:function(a,n){1&a&&(t.j41(0,"mat-card")(1,"mat-card-title"),t.EFF(2,"Categories"),t.k0s(),t.j41(3,"mat-tab-group",0),t.bIt("selectedIndexChange",function(d){return n.onTabChange(d)}),t.nrm(4,"mat-tab",1)(5,"mat-tab",2)(6,"mat-tab",3),t.k0s(),t.nrm(7,"router-outlet"),t.k0s())},dependencies:[m.n3,y.RN,y.dh,h.mq,h.T8],styles:["mat-card-title[_ngcontent-%COMP%]{text-align:center;font-family:Poppins,sans-serif}"]})}}return e})();var C=s(5416),b=s(4354),f=s(5911),l=s(9159),v=s(9213),u=s(8834);function I(e,c){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Category Name "),t.k0s())}function M(e,c){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const o=c.$implicit;t.R7$(1),t.SpI(" ",o.name," ")}}function O(e,c){1&e&&(t.j41(0,"mat-header-cell"),t.EFF(1," Actions "),t.k0s())}function P(e,c){if(1&e){const o=t.RV6();t.j41(0,"mat-cell")(1,"button",12),t.bIt("click",function(){const r=t.eBV(o).$implicit,d=t.XpG(2);return t.Njj(d.onEditCategory(r))}),t.j41(2,"mat-icon"),t.EFF(3,"edit"),t.k0s()(),t.j41(4,"button",13),t.bIt("click",function(){const r=t.eBV(o).$implicit,d=t.XpG(2);return t.Njj(d.onDeleteCategory(r))}),t.j41(5,"mat-icon"),t.EFF(6,"delete"),t.k0s()()()}}function j(e,c){1&e&&t.nrm(0,"mat-header-row")}function T(e,c){1&e&&t.nrm(0,"mat-row")}function L(e,c){if(1&e&&(t.j41(0,"mat-table",5),t.qex(1,6),t.DNE(2,I,2,0,"mat-header-cell",7),t.DNE(3,M,2,1,"mat-cell",8),t.bVm(),t.qex(4,9),t.DNE(5,O,2,0,"mat-header-cell",7),t.DNE(6,P,7,0,"mat-cell",8),t.bVm(),t.DNE(7,j,1,0,"mat-header-row",10),t.DNE(8,T,1,0,"mat-row",11),t.k0s()),2&e){const o=t.XpG();t.Y8G("dataSource",o.categories),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(1),t.Y8G("matRowDefColumns",o.displayedColumns)}}function x(e,c){if(1&e){const o=t.RV6();t.j41(0,"div",14)(1,"mat-icon"),t.EFF(2,"category"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No categories found. Start by adding a new category."),t.k0s(),t.j41(5,"button",15),t.bIt("click",function(){t.eBV(o);const n=t.XpG();return t.Njj(n.onAddCategory())}),t.EFF(6,"Add Category"),t.k0s()()}}let D=(()=>{class e{constructor(o,a,n){this.snackbar=o,this.categoryService=a,this.router=n,this.categories=[],this.displayedColumns=["name","actions"]}ngOnInit(){this.getCategories()}getCategories(){this.categoryService.getCategories().subscribe(o=>{this.categories=o},o=>{console.error("Error fetching categories:",o),this.snackbar.open("Error fetching categories","Close",{duration:3e3})})}onAddCategory(){this.router.navigate(["/categories/add-category"])}onEditCategory(o){this.router.navigate(["/categories/edit-category",o._id])}onDeleteCategory(o){this.categoryService.deleteCategory(o._id).subscribe(()=>{this.categories=this.categories.filter(a=>a._id!==o._id),this.snackbar.open("Category deleted successfully","Close",{duration:3e3})},a=>{console.error("Error deleting category:",a),this.snackbar.open("Error deleting category","Close",{duration:3e3})})}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(C.UG),t.rXU(b.M),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-categories-list"]],decls:9,vars:2,consts:[[1,"category-list-container","mat-elevation-z8"],["color","primary"],["mat-raised-button","","color","accent",1,"add-button",3,"click"],["class","mat-elevation-z1",3,"dataSource",4,"ngIf","ngIfElse"],["noCategories",""],[1,"mat-elevation-z1",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[1,"empty-state"],["mat-raised-button","","color","primary",3,"click"]],template:function(a,n){if(1&a&&(t.j41(0,"div",0)(1,"mat-toolbar",1)(2,"span"),t.EFF(3,"Expense Categories"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return n.onAddCategory()}),t.EFF(5,"Add Category"),t.k0s()(),t.DNE(6,L,9,3,"mat-table",3),t.DNE(7,x,7,0,"ng-template",null,4,t.C5r),t.k0s()),2&a){const r=t.sdS(8);t.R7$(6),t.Y8G("ngIf",n.categories.length)("ngIfElse",r)}},dependencies:[p.bT,f.KQ,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,v.An,u.$z,u.iY],styles:[".category-list-container[_ngcontent-%COMP%]{margin:20px}.category-list-container[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{margin-left:auto}.category-list-container[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif!important;width:100%}.category-list-container[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .category-list-container[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:16px}.category-list-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;margin:40px 0}.category-list-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;color:#757575;margin-bottom:10px}.category-list-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;color:#757575}  .mat-header-cell,   .mat-cell{font-family:Poppins,sans-serif}"]})}}return e})();var i=s(9417),g=s(882),_=s(7575),F=s(9631);function G(e,c){1&e&&t.nrm(0,"mat-progress-bar",10)}function R(e,c){1&e&&(t.j41(0,"mat-error"),t.EFF(1," Category name is required "),t.k0s())}function S(e,c){1&e&&t.nrm(0,"mat-progress-bar",10)}function U(e,c){1&e&&(t.j41(0,"mat-error"),t.EFF(1," Category name is required "),t.k0s())}const $=[{path:"",component:k,children:[{path:"",redirectTo:"categories",pathMatch:"full"},{path:"categories-lists",component:D},{path:"add-category",component:(()=>{class e{constructor(o,a,n,r){this.fb=o,this.categoryService=a,this.snackbar=n,this.router=r,this.isLoading=!1,this.categoryForm=this.fb.group({name:["",i.k0.required]})}ngOnInit(){}onSubmit(){this.categoryForm.valid&&(this.isLoading=!0,this.categoryService.addCategory(this.categoryForm.value).subscribe(()=>{this.isLoading=!1,this.snackbar.open("Category added successfully","Close",{duration:3e3}),this.router.navigate(["/categories/categories-lists"])},o=>{this.isLoading=!1,console.error("Error adding category:",o),this.snackbar.open("Error adding category","Close",{duration:3e3})}))}onCancel(){this.router.navigate(["/categories"])}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(i.ok),t.rXU(b.M),t.rXU(C.UG),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-category"]],decls:16,vars:5,consts:[[1,"add-category-form","mat-elevation-z8"],["color","primary"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Enter category name"],[4,"ngIf"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","type","button",3,"disabled","click"],["mode","indeterminate"]],template:function(a,n){if(1&a&&(t.j41(0,"div",0)(1,"mat-toolbar",1)(2,"span"),t.EFF(3,"Add New Category"),t.k0s()(),t.DNE(4,G,1,0,"mat-progress-bar",2),t.j41(5,"form",3),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(6,"mat-form-field",4)(7,"mat-label"),t.EFF(8,"Category Name"),t.k0s(),t.nrm(9,"input",5),t.DNE(10,R,2,0,"mat-error",6),t.k0s(),t.j41(11,"div",7)(12,"button",8),t.EFF(13,"Save"),t.k0s(),t.j41(14,"button",9),t.bIt("click",function(){return n.onCancel()}),t.EFF(15,"Cancel"),t.k0s()()()()),2&a){let r;t.R7$(4),t.Y8G("ngIf",n.isLoading),t.R7$(1),t.Y8G("formGroup",n.categoryForm),t.R7$(5),t.Y8G("ngIf",(null==(r=n.categoryForm.get("name"))?null:r.hasError("required"))&&(null==(r=n.categoryForm.get("name"))?null:r.touched)),t.R7$(2),t.Y8G("disabled",n.categoryForm.invalid||n.isLoading),t.R7$(2),t.Y8G("disabled",n.isLoading)}},dependencies:[p.bT,f.KQ,g.rl,g.nJ,g.TL,u.$z,_.HM,F.fg,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".add-category-form[_ngcontent-%COMP%]{margin:20px}.add-category-form[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}.add-category-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-category-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.add-category-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}}return e})()},{path:"edit-category/:id",component:(()=>{class e{constructor(o,a,n,r,d){this.fb=o,this.categoryService=a,this.route=n,this.snackbar=r,this.router=d,this.categoryId="",this.isLoading=!1,this.categoryForm=this.fb.group({name:["",i.k0.required]})}ngOnInit(){this.categoryId=this.route.snapshot.paramMap.get("id")||"",console.log("Retrieved categoryId:",this.categoryId),this.categoryId?this.loadCategory():(console.error("Category ID is missing from the route"),this.snackbar.open("Invalid category ID","Close",{duration:3e3}),this.router.navigate(["/categories"]))}loadCategory(){this.isLoading=!0,this.categoryService.getCategoryById(this.categoryId).subscribe(o=>{this.isLoading=!1,o?this.categoryForm.patchValue({name:o.name}):(this.isLoading=!1,console.error("Category not found"),this.snackbar.open("Category not found","Close",{duration:3e3}))},o=>{console.error("Error loading category:",o),this.snackbar.open("Error loading category","Close",{duration:3e3})})}onUpdate(){this.categoryForm.valid&&this.categoryService.updateCategory(this.categoryId,this.categoryForm.value).subscribe(()=>{this.isLoading=!1,this.snackbar.open("Category updated successfully, check Lists","Close",{duration:3e3})},o=>{this.isLoading=!1,console.error("Error updating category:",o),this.snackbar.open("Error updating category","Close",{duration:3e3})})}onCancel(){this.router.navigate(["/categories"])}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(i.ok),t.rXU(b.M),t.rXU(m.nX),t.rXU(C.UG),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-edit-category"]],decls:16,vars:5,consts:[[1,"edit-category-form","mat-elevation-z8"],["color","primary"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Edit category name"],[4,"ngIf"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","warn","type","button",3,"disabled","click"],["mode","indeterminate"]],template:function(a,n){if(1&a&&(t.j41(0,"div",0)(1,"mat-toolbar",1)(2,"span"),t.EFF(3,"Edit Category"),t.k0s()(),t.DNE(4,S,1,0,"mat-progress-bar",2),t.j41(5,"form",3),t.bIt("ngSubmit",function(){return n.onUpdate()}),t.j41(6,"mat-form-field",4)(7,"mat-label"),t.EFF(8,"Category Name"),t.k0s(),t.nrm(9,"input",5),t.DNE(10,U,2,0,"mat-error",6),t.k0s(),t.j41(11,"div",7)(12,"button",8),t.EFF(13,"Update"),t.k0s(),t.j41(14,"button",9),t.bIt("click",function(){return n.onCancel()}),t.EFF(15,"Cancel"),t.k0s()()()()),2&a){let r;t.R7$(4),t.Y8G("ngIf",n.isLoading),t.R7$(1),t.Y8G("formGroup",n.categoryForm),t.R7$(5),t.Y8G("ngIf",(null==(r=n.categoryForm.get("name"))?null:r.hasError("required"))&&(null==(r=n.categoryForm.get("name"))?null:r.touched)),t.R7$(2),t.Y8G("disabled",n.categoryForm.invalid||n.isLoading),t.R7$(2),t.Y8G("disabled",n.isLoading)}},dependencies:[p.bT,f.KQ,g.rl,g.nJ,g.TL,u.$z,_.HM,F.fg,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".edit-category-form[_ngcontent-%COMP%]{margin:20px}.edit-category-form[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}.edit-category-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.edit-category-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.edit-category-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}}return e})()}]}];let X=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild($),m.iI]})}}return e})(),Y=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.MD,X,f.s5,g.RG,l.tP,v.m_,u.Hl,y.Hu,_.PO,h.RI,C._T,F.fS,i.X1,i.YN]})}}return e})()}}]);